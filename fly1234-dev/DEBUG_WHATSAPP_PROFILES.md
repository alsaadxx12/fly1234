# ุฏููู ุชุตุญูุญ ุตูุฑ ูููุงุช ูุงุชุณุงุจ ุงูุดุฎุตูุฉ

## ๐ ุฎุทูุงุช ุงูุชุตุญูุญ

### ุงูุฎุทูุฉ 1: ุงูุชุญ Console
ุงุถุบุท `F12` ูู ุงููุชุตูุญ ูุงูุชูู ุฅูู ุชุจููุจ **Console**

### ุงูุฎุทูุฉ 2: ุชุญุฏูุซ ุงูุตูุญุฉ
ุงุถุบุท `F5` ูุชุญุฏูุซ ุตูุญุฉ ุนููุงุก API

### ุงูุฎุทูุฉ 3: ุชุญูู ูู ุงูุฑุณุงุฆู ุงูุชุงููุฉ

#### ุฃ) ุชุญููู ุญุณุงุจุงุช ุงููุงุชุณุงุจ
ุงุจุญุซ ุนู:
```
Loading WhatsApp accounts for user: [user-id]
WhatsApp accounts loaded: X
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุฑู `WhatsApp accounts loaded: 1` ุฃู ุฃูุซุฑ

**ุฅุฐุง ุฑุฃูุช `WhatsApp accounts loaded: 0`**:
- ุงููุดููุฉ: ูุง ุชูุฌุฏ ุญุณุงุจุงุช ูุงุชุณุงุจ
- ุงูุญู: ุงุฐูุจ ุฅูู Settings โ ุฅุนุฏุงุฏุงุช ุงููุงุชุณุงุจ โ ุญุณุงุจุงุช ุงููุงุชุณุงุจ โ ุฃุถู ุญุณุงุจ

#### ุจ) ุงูุญุณุงุจ ุงููุดุท
ุงุจุญุซ ุนู:
```
Active WhatsApp account found: { name: "...", instanceId: "...", hasToken: true }
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุฑู ุงุณู ุงูุญุณุงุจ ู `hasToken: true`

**ุฅุฐุง ุฑุฃูุช `No active account, using first account`**:
- ุงููุนูููุฉ: ุณูุชู ุงุณุชุฎุฏุงู ุฃูู ุญุณุงุจ
- ุงูุชูุตูุฉ: ูุนูู ุงูุญุณุงุจ ุงููุทููุจ ุจุนูุงูุฉ โ

**ุฅุฐุง ุฑุฃูุช `No WhatsApp accounts configured`**:
- ุงููุดููุฉ: ูุง ุชูุฌุฏ ุญุณุงุจุงุช ูุงุชุณุงุจ
- ุงูุญู: ุฃุถู ุญุณุงุจุงู ูู ุงูุฅุนุฏุงุฏุงุช

#### ุฌ) ูุนุงูุฌุฉ ุงูุฃุฑูุงู
ุงุจุญุซ ุนู:
```
Customers with valid phone numbers: X
Phone numbers to fetch: ["07750496410", ...]
Phone normalized: 07750496410 -> 9647750496410
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุฑู ุฃุฑูุงู ุงูููุงุชู ูุชุญููููุง ุฅูู ุตูุบุฉ 964

**ุฅุฐุง ุฑุฃูุช `Customers with valid phone numbers: 0`**:
- ุงููุดููุฉ: ูุง ุชูุฌุฏ ุฃุฑูุงู ุตุงูุญุฉ
- ุงูุณุจุจ ุงููุญุชูู: ุฌููุน ุงูุฃุฑูุงู ุจุตูุบุฉ ุบูุฑ ูุฏุนููุฉ

#### ุฏ) ุฌูุจ ุงูุตูุฑ
ุงุจุญุซ ุนู:
```
Triggering fetch for: 07750496410 (normalized: 9647750496410)
Fetching WhatsApp profile picture for: 9647750496410 using account: alrawdatain control
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุฑู ูุญุงููุฉ ุฌูุจ ููู ุฑูู

**ุฅุฐุง ุฑุฃูุช `No active WhatsApp account - cannot fetch profile pictures`**:
- ุงููุดููุฉ: ูุง ููุฌุฏ ุญุณุงุจ ูุงุชุณุงุจ ูุดุท
- ุงูุญู: ุฃุถู ููุนูู ุญุณุงุจุงู ูู ุงูุฅุนุฏุงุฏุงุช

#### ูู) ุงุณุชุฌุงุจุฉ API
ุงุจุญุซ ุนู:
```
Profile picture API response: { url: "https://..." }
Extracted profile URL: https://...
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุฑู URL ูุตูุฑุฉ ุงูููู ุงูุดุฎุตู

**ุฅุฐุง ุฑุฃูุช ุฃุฎุทุงุก**:
- `Error 403`: Token ุบูุฑ ุตุญูุญ โ ุญุฏูุซ Token ูู ุงูุฅุนุฏุงุฏุงุช
- `Error 404`: Instance ID ุบูุฑ ุตุญูุญ โ ุชุญูู ูู Instance ID
- `timeout`: ุจุทุก ูู ุงูุงุชุตุงู โ ุงูุชุธุฑ ูุญุงูู ูุฑุฉ ุฃุฎุฑู

### ุงูุฎุทูุฉ 4: ุชูุญุต ุงูุนููู ุงูุฃูู
ุงุจุญุซ ุนู:
```
First customer contact: 07750496410
First customer profile pic: null ุฃู https://...
Is loading: true ุฃู false
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- ุฅุฐุง ูุงูุช ุงูุตูุฑุฉ `null` ู `Is loading: true` โ ุฌุงุฑู ุงูุชุญููู (ุงูุชุธุฑ)
- ุฅุฐุง ูุงูุช ุงูุตูุฑุฉ `https://...` โ ุชู ุฌูุจ ุงูุตูุฑุฉ ุจูุฌุงุญ
- ุฅุฐุง ูุงูุช ุงูุตูุฑุฉ `null` ู `Is loading: false` โ ูุดู ุงูุฌูุจ ุฃู ูุง ุชูุฌุฏ ุตูุฑุฉ

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ

- [ ] ุญุณุงุจ ูุงุชุณุงุจ ููุฌูุฏ ูู ุงูุฅุนุฏุงุฏุงุชุ
- [ ] ุงูุญุณุงุจ ููุนูู (โ)ุ
- [ ] Instance ID ุตุญูุญุ
- [ ] Token ุตุญูุญุ
- [ ] ุฃุฑูุงู ุงูุนููุงุก ุจุตูุบุฉ ุนุฑุงููุฉ (07xxx)ุ
- [ ] ุงูุฅูุชุฑูุช ูุชุตูุ
- [ ] UltraMsg ูุนููุ

## ๐ฏ ูุชูุฌุฉ ูุชููุนุฉ

ุนูุฏ ุงูุนูู ุจุดูู ุตุญูุญุ ูุฌุจ ุฃู ุชุฑู ูู Console:

```
Loading WhatsApp accounts for user: abc123
WhatsApp accounts loaded: 1
Active WhatsApp account found: { name: "alrawdatain control", instanceId: "142767", hasToken: true }
Customers with valid phone numbers: 509
Phone numbers to fetch: ["07750496410", "07712727879", ...]
Starting to prefetch profile pictures...
Phone normalized: 07750496410 -> 9647750496410
Triggering fetch for: 07750496410 (normalized: 9647750496410)
Fetching WhatsApp profile picture for: 9647750496410 using account: alrawdatain control
Profile picture API response: { url: "https://..." }
Extracted profile URL: https://pps.whatsapp.net/...
First customer contact: 07750496410
First customer profile pic: https://pps.whatsapp.net/...
Is loading: false
```

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

ุฃุฑุณู ูู screenshot ูู Console ูุญุชูู ุนูู:
1. ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ ุจุชุญููู ุงูุญุณุงุจุงุช
2. ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ ุจุฌูุจ ุงูุตูุฑ
3. ุฃู ุฃุฎุทุงุก ุธูุฑุช

ุณุฃุณุงุนุฏู ูู ุชุญุฏูุฏ ุงููุดููุฉ ุจุงูุถุจุท!
